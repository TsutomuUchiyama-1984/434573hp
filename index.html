<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>portfolio</title>
<link rel="stylesheet" href="t_uchiyama_pf.css">
<link rel="stylesheet" href="css/calendar.css"></head>

<body>
  
	<header>    
		<div id="t_h1">
			<img src="t_uchiyama_pf-assets/mainimg4.jpg" alt="メイン画像">
			<p>Tsutomu<br> &nbsp; Uchiyama</p>
		</div>
	</header>

	<main id="tpfmin">
		
		<div id="wkttl">
			<section>
				<h2>Work</h2>
				<hr>
				<ul class="sld">
				  <li class="element js-animation" id="ab">
					  <a href="../abeauty/index_ab_pf.html"><img src="sld_abeuty-assets/sld1.jpg" alt="あざみ野理容美容専門学校"></a>
					  <div class="wk">
						  <dl>
							<dt>Title</dt>
						  	<dd>あざみ野理容美容専門学校</dd>
							<dt>Concept</dt>
						  	<dd>お洒落で楽しく通いたくなるような学校</dd>
							<dt>Span</dt>
						  	<dd>７ヶ月</dd>
							<dt>Tools</dt>
						  	<dd>HTML CSS JavaScript</dd>
							<dt>Point</dt>
						  	<dd>全体を明かるくさせる</dd>
						  </dl>
					  </div>
					</li>
				  	<li class="element js-animation" id="sn">
						<a href="../sennendou/index_sennendou.html"><img src="sld_abeuty-assets/sld2.jpg" alt="千年堂"></a>
						<div class="wk">
						  <dl>
							<dt>Title</dt>
						  	<dd>千年堂</dd>
							<dt>Concept</dt>
						  	<dd>老若男女見やすく美味しく</dd>
							<dt>Span</dt>
						  	<dd>3ヶ月</dd>
							<dt>Tools</dt>
						  	<dd>HTML CSS JavaScript</dd>
							<dt>Point</dt>
						  	<dd>清潔感を大事にする</dd>
						  </dl>
					  </div>

					</li>
				  	<li class="element js-animation" id="hs">
						<a href="../hospital_a/hospital_a_pf.html"><img src="sld_abeuty-assets/sld3.jpg" alt="青葉大学病院" ></a>
					  	<div class="wk">
						  <dl>
							<dt>Title</dt>
						  	<dd>青葉大学病院</dd>
							<dt>Concept</dt>
						  	<dd>使いやすさ 見やすさを優先</dd>
							<dt>Span</dt>
						  	<dd>７ヶ月</dd>
							<dt>Tools</dt>
						  	<dd>HTML CSS JavaScript</dd>
							<dt>Point</dt>
						  	<dd>明るく すっきり</dd>
						  </dl>
					  	</div>
					</li>
				</ul>				
				
			</section>
		</div>
		
		<div id="abm">
			<section>
				<h2>About me</h2><hr>
				<p>エンジニア1年目。ITで社会貢献を目指す。座右の銘は「初心忘るべからず」。<br>趣味は絵を描くこと。</p>

			</section>
		</div>
		
		
		<div>
			<section>
				<h2>Skill</h2><hr>
				<div id="skill-g"><img src="t_uchiyama_pf-assets/skill-g.png" alt="スキル"></div>
			
			</section>
		</div>
		<div>
			<section>
				<h2>Contact</h2><hr>
				<div id="cntt2">
					<a href="fm-tuchiyama.html">
						<div id="cntt">
							<div><img src="t_uchiyama_pf-assets/otiaw2.png" alt="お問い合わせフォーム"></div><p>お問い合わせフォーム</p>
						</div>
					</a>
				</div>

			</section>

		<div id="ctw">			
			<div class="container-calendar">
				<div id="monthAndYear"></div>
				<div class="button-container-calendar">
					<button id="previous" onclick="previous()">‹</button>
					<button id="next" onclick="next()">›</button>
				</div>
				
				<table class="table-calendar" id="calendar" data-lang="ja">
					<thead id="thead-month"></thead>
					<tbody id="calendar-body"></tbody>
				</table>
				
				<div class="footer-container-calendar">
					<label for="month">日付指定：</label>
					<select id="month" onchange="jump()">
						<option value=0>1月</option>
						<option value=1>2月</option>
						<option value=2>3月</option>
						<option value=3>4月</option>
						<option value=4>5月</option>
						<option value=5>6月</option>
						<option value=6>7月</option>
						<option value=7>8月</option>
						<option value=8>9月</option>
						<option value=9>10月</option>
						<option value=10>11月</option>
						<option value=11>12月</option>
					</select>
					<select id="year" onchange="jump()"></select>
				</div>
		  </div>
	  
		  <script src="js/calendar.js"></script>			
		
			<div id="dn">
				<form id="wtfm">
					<h4>気象情報</h4>
					<dl>
						<dt>住所</dt>
						<dd><select id="address"></select></dd>
						<dd><button type="button" onclick="exec()">実行</button></dd>
					</dl>
				</form>
				<div id="weatherImage"></div>
				<div id="weatherBody"></div>
			</div>
		</div>
	</div>  
		  <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
		  
		  <script>
		  
			  // 住所用の変数
			  let address;
		  
			  // 住所のセット
			  function setAddress(text) {
				  // address の準備
				  try {
					  // JSON文字列をオブジェクトに
					  address = JSON.parse(text);
		  
					  // selectタグ用の選択肢を作成
					  let html = '';
					  for (let i = 0; i < address.length; i ++) {
						  const d = address[i];
						  html += `<option value="${i}">${d[3]} - ${d[5]}</option>`
					  }
		  
					  // selectタグ用の選択肢を加える
					  $('#address').html(html);
				  } catch(e) {
				  }
			  }
		  
			  // ボタンクリック時に実行
			  function exec() {
				  // URLの作成
				  const appid = 'e31ea867c5b98a1175b4b219927a185c';
				  const i = $('#address').val();
				  const d = address[i];
				  const addressText = d[3] + d[5];
				  const lat = d[6];  // 経度
				  const lon = d[7];  // 緯度
		  
				  const url = 'https://api.openweathermap.org/data/2.5/weather?'
					  + `lat=${lat}&lon=${lon}&units=metric&appid=${appid}`;
				  console.log(url);
		  
				  // ajax
				  $.ajax(url)
				  .done(function(obj) {
					  // データ出力
					  console.log(obj);
		  
					  // 画像のHTMLを組み立てて表示
					  const urlImgBase = 'https://openweathermap.org/img/wn/';
					  const htmlImg =  `<img src="${urlImgBase}${obj.weather[0].icon}@4x.png">`;
					  console.log(htmlImg);
					  document.querySelector('#weatherImage').innerHTML = htmlImg;
		  
					  // 情報を組み立てて表示
					  const htmlInf = `<div>場所：${addressText}</div>
		  <div>温度：${obj.main.temp} ℃
		  <div>湿度：${obj.main.humidity} ％</div>`;
					  console.log(htmlInf);
					  document.querySelector('#weatherBody').innerHTML = htmlInf;
				  });
			  }
		  
		  </script>
		  <script src="address.js"></script>
		  
	</main>

			<script>
				function showElementAnimation() {
			
			var element = document.getElementsByClassName('js-animation');
			if(!element) return; // 要素がなかったら処理をキャンセル
			
			var showTiming = window.innerHeight > 768 ? 200 : 40; // 要素が出てくるタイミングはここで調整
			var scrollY = window.pageYOffset;
			var windowH = window.innerHeight;
			
			for(var i=0;i<element.length;i++) { var elemClientRect = element[i].getBoundingClientRect(); var elemY = scrollY + elemClientRect.top; if(scrollY + windowH - showTiming > elemY) {
				element[i].classList.add('is-show');
				} else if(scrollY + windowH < elemY) {
				// 上にスクロールして再度非表示にする場合はこちらを記述
				element[i].classList.remove('is-show');
				}
			}
			}
			showElementAnimation();
			window.addEventListener('scroll', showElementAnimation);
				</script>	
				
				<!-- <!-- <noscript>
					<style>
					.js-animation {
						opacity: 1;
						visibility: visible;
						transform: translateY(0px);
					}
					</style>
				</noscript> -->
	 -->
 </body>
</html>
